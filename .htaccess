ServerSignature Off
Options -ExecCGI -Indexes -All
Options +FollowSymLinks

# Rewrite Rules
<IfModule mod_rewrite.c>
	# Rewrite to root
	RewriteEngine On
	RewriteCond %{THE_REQUEST} ^.*/index\.php 
	RewriteRule ^(.*)index.php$ /$1 [R=301,L]

	# Block non-standard requests
	RewriteCond %{REQUEST_METHOD} ^(TRACE|TRACK|OPTIONS|HEAD)
	RewriteRule .* - [F]

	#Block users directed by these sites
	#RewriteCond %{HTTP_REFERER} scumbag\.com [NC,OR]
	#RewriteCond %{HTTP_REFERER} wormhole\.com [NC,OR]
	#RewriteRule .* - [F]

	# Remove www
	RewriteCond %{HTTP_HOST} ^www\.mytwittercrush\.com$ [NC]
	RewriteRule ^(.*)$ http://mytwittercrush.com/$1 [R=301,L]
</IfModule>

# PHP Compression
<IfModule mod_php5.c>
	php_value zlib.output_compression 16386
</IfModule>

# JS/CSS Compression
<IfModule mod_deflate.c>
	<FilesMatch "\.(js|css)$">
		SetOutputFilter DEFLATE
	</FilesMatch>
</IfModule>

# File Caching
<FilesMatch ".(svg|gif|jpg|png|ico|js|css|pdf|txt)$">
	Header set Cache-Control "max-age=54000"
</FilesMatch>

# Block direct access to Ini files
<Files *.ini>
	Order deny,allow
	Deny from all
</Files>

# Block direct access to hidden files
<Files .*>
	Order deny,allow
	Deny from all
</Files>

# Error Pages
ErrorDocument 401 /errors/401.html
ErrorDocument 403 /errors/403.html
ErrorDocument 404 /errors/404.html
ErrorDocument 500 /errors/500.html

# Minimize IE6 flicker
ExpiresActive On
ExpiresByType image/gif A2592000
ExpiresByType image/jpg A2592000
ExpiresByType image/png A2592000

